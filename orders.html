<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电子商城 - 我的订单</title>
    <link rel="stylesheet" href="styles/global.css">
</head>
<body>
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                电子<span>商城</span>
            </a>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="搜索商品...">
                <button id="search-btn">
                    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                </button>
            </div>
            <nav>
                <a href="cart.html" class="nav-item nav-cart">
                    <div class="cart-icon"></div>
                    <span class="nav-line-2">购物车</span>
                    <span id="cart-count-badge" class="cart-count">0</span>
                </a>
                <div id="user-menu-container">
                    <a href="login.html" class="nav-item">
                        <span class="nav-line-1">你好, 请登录</span>
                        <span class="nav-line-2">账户列表</span>
                    </a>
                </div>
                <a href="#" class="nav-item nav-logout" onclick="handleLogout(event)" id="logout-btn" style="display: none;" title="退出登录">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    <span class="nav-line-2">退出</span>
                </a>
                </nav>
        </div>
    </header>

    <div class="container">
        <div class="orders-container">
            
            <div class="order-tabs">
                <div class="order-tab active" data-status="all" onclick="filterOrders('all')">
                    <div class="tab-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11l3 3L22 4"></path>
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                        </svg>
                    </div>
                    <div class="tab-label">全部订单</div>
                    <div class="tab-count" id="count-all">0</div>
                </div>
                <div class="order-tab" data-status="pending" onclick="filterOrders('pending')">
                    <div class="tab-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <div class="tab-label">待付款</div>
                    <div class="tab-count" id="count-pending">0</div>
                </div>
                <div class="order-tab" data-status="paid" onclick="filterOrders('paid')">
                    <div class="tab-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="1" y="3" width="15" height="13"></rect>
                            <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                            <circle cx="5.5" cy="18.5" r="2.5"></circle>
                            <circle cx="18.5" cy="18.5" r="2.5"></circle>
                        </svg>
                    </div>
                    <div class="tab-label">待收货</div>
                    <div class="tab-count" id="count-paid">0</div>
                </div>
                <div class="order-tab" data-status="received" onclick="filterOrders('received')">
                    <div class="tab-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                        </svg>
                    </div>
                    <div class="tab-label">待评价</div>
                    <div class="tab-count" id="count-received">0</div>
                </div>
            </div>

            
            <div class="orders-list" id="ordersList">
                
            </div>
        </div>
    </div>

    <script src="scripts/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkLoginRedirect();
            
            // 从URL参数获取状态
            const urlParams = new URLSearchParams(window.location.search);
            const status = urlParams.get('status') || 'all';
            
            // 激活对应的标签
            filterOrders(status);
        });
    </script>
</body>
</html>
